version: '3'
services:
    frontend:
        build: ./frontend
        networks:
            - default
            - proxy
        labels:
            - traefik.http.routers.vinland.rule=Host(`${APP_HOST}`)
        depends_on:
            - backend
    backend:
        volumes:
            - api:/var/www/html:ro
    api:
        volumes:
            - api:/var/www/html:rw
volumes:
    api:
networks:
    proxy:
        external: true
